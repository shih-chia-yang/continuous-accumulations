<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>University</title>
        <style>
</style>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        
        
        
    </head>
    <body class="vscode-body vscode-light">
        <h1 id="university">University</h1>
<h2 id="學校基本資料">學校基本資料</h2>
<h3 id="屬性">屬性</h3>
<pre><code class="language-text"><div>        /// &lt;summary&gt;
        /// 唯一識別碼
        /// &lt;/summary&gt;
        /// &lt;value&gt;&lt;/value&gt;
        public string UniversityKey { get; set; }
        /// &lt;summary&gt;
        /// 設立別
        /// &lt;/summary&gt;
        /// &lt;value&gt;&lt;/value&gt;
        public Category Category { get; private set; }
        /// &lt;summary&gt;
        /// 體系
        /// &lt;/summary&gt;
        /// &lt;value&gt;&lt;/value&gt;
        public EducationSystem EducationSystem { get; private set; }
        /// &lt;summary&gt;
        /// 父節點識別碼
        /// &lt;/summary&gt;
        /// &lt;value&gt;併校、重組時，該識別碼會寫入新學校識別碼&lt;/value&gt;
        public string ParentId { get; private set; }
        /// &lt;summary&gt;
        /// 校務資料庫學校識別碼
        /// &lt;/summary&gt;
        /// &lt;value&gt;&lt;/value&gt;
        public string ExternalId { get; private set; }
        /// &lt;summary&gt;
        /// 統計處識別碼
        /// &lt;/summary&gt;
        /// &lt;value&gt;&lt;/value&gt;
        public string StatId { get; private set; }
        /// &lt;summary&gt;
        /// 學校中文名稱
        /// &lt;/summary&gt;
        /// &lt;value&gt;&lt;/value&gt;
        public string ChtName { get; private set; }
        /// &lt;summary&gt;
        /// 學er校英文名稱
        /// &lt;/summary&gt;
        /// &lt;value&gt;&lt;/value&gt;

        public string EngName { get; private set; }
        /// &lt;summary&gt;
        /// 經營狀態
        /// &lt;/summary&gt;
        /// &lt;value&gt;&lt;/value&gt;
        public UniversityState State { get; private set; }
</div></code></pre>
<h3 id="建構子">建構子</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"> 確認必填欄位, 目前為設立別、體系、校務資料庫學校識別碼、統計處學校代碼、學校中文名稱、經營狀態</li>
</ul>
<pre><code class="language-text"><div>    public University(Category category, EducationSystem educationSystem
        , string externalId, string statId
        ,string chtName,UniversityState state)
        {
            Category = category;
            EducationSystem = educationSystem;
            ExternalId = externalId;
            StatId = statId;
            ChtName = chtName;
            State = state;
        }
</div></code></pre>
<h3 id="行為">行為</h3>
<ul>
<li>[ ]確認是否已具備所有邏輯</li>
</ul>
<ul>
<li>併校</li>
</ul>
<ol>
<li>當前學校會將UniversityKey 寫入 oldUniversities集合各個的ParentId</li>
<li>oldUniversities集合每個經營狀態將改變成UniversityState.Mergered</li>
<li>資料庫新增當前學校，同時修改集合oldUniversities屬性</li>
</ol>
<pre><code class="language-text"><div>public IEnumerable&lt;University&gt; Merge(University[] oldUniversities)

</div></code></pre>
<ul>
<li>重組、改制</li>
</ul>
<ol>
<li>當前學校ParentId寫入newUniversity.UniversityKey</li>
<li>當前學校UniversityState改變為UniversityState.Reorganized</li>
<li>資料庫新增newUniversity，同時修改當前學校屬性</li>
</ol>
<pre><code class="language-text"><div>public University Reorganize(University newUniversity)
</div></code></pre>
<ul>
<li>設定ParentId</li>
</ul>
<pre><code class="language-text"><div>public void SetParentId(string id)
</div></code></pre>
<ul>
<li>變更學校狀態</li>
</ul>
<pre><code class="language-text"><div>public void ChangeState(UniversityState state)
</div></code></pre>

    </body>
    </html>