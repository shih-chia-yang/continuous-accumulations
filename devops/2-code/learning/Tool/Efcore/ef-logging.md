# ef-logging

[[efcore]]

1. edit `appsettings.Development.json`，在logging中加入`"Microsoft.EntityFrameworkCore.Database.Command": "Information"`
```json
"Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information",
      "Microsoft.EntityFrameworkCore.Database.Command": "Information"
    }
  }
```

預設輸出的log內容，不會包含實際傳送到資料庫的參數值，因為資安要求只會呈現sql語法，參數值一律由無意義代號取代

2. 如果想要呈現參數值，則調整Startup.cs中的AddDbContext方法，新增`EnableSensitiveDataLogging`

```csharp
services.AddDbContext<ClassifiedAdContext>(
    options =>
    {
        options.UseSqlServer(configuration.GetConnectionString("DefaultConnection"));
        options.EnableSensitiveDataLogging();
    });
```

[原文](https://blog.miniasp.com/post/2020/12/12/Logging-in-Entity-Framework-Core)

[//begin]: # "Autogenerated link references for markdown compatibility"
[efcore]: efcore.md "EfCore"
[//end]: # "Autogenerated link references"