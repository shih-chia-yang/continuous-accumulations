# appsettings

ASP.NET Core組態是基於 Key-Value pair形式， configuration Provider從各種來源讀取組態後，再以key-value成對的方式儲存在系統中

ASP.NET專案預設有`launchSettings.json`和`appsettings.json`2個組態檔，前者是本機開發電腦環境組態檔，後者是應用程式使用的組態檔。

> [[launchsettings]]

```json
{
    //預設組態設定
    },
    "Logging": {
      "LogLevel": {
          "Default": "Information",
          "Microsoft": "Warning",
          "Microsoft.Hosting.Lifetime": "Information"
        }
    },
    "AllowedHosts": "*",
    //資料庫連線字串設定
    "ConnectionStrings": {
    "DefaultConnection": "Server=127.0.0.1;Database=Code.Service.Data;Persist Security Info=True;User ID=SA;password=qwer%TGB;"
    },
    //自訂組態設定
    "Developer":{
        "Name":"",
        "Mail":"",
        "Phone":""
    }
}
```

可調用IConfiguration存取ConnectionString和Developer2個區段的設定值

以下為3種不同方式讀取組態值
```aspx-csharp
#inejct IConfiguration config

//讀取ConnectionString組態
@config["ConnectionString:DefaultConnection"]

//讀取Developer組態
@config.GetValue<string>("Developer:Name")
@config.GetValue<string>("Developer:Email","can not found email")
@config.GetSection("Developer:Phone").Value
```

[//begin]: # "Autogenerated link references for markdown compatibility"
[launchsettings]: launchsettings.md "launchsettings"
[//end]: # "Autogenerated link references"